<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <div class="container1">
        <img class="hamburger-bar" src="svg_files/bars-sort-svgrepo-com.svg" width="20px">
        <h1 class="city">Barisal</h1>
        <p class="date"> Mon, 20 January </p>
    </div>   

    <div class="search">
        <input type="text" placeholder="Enter city name" spellcheck="false">
        <button><img src="svg_files/search-bar-01.svg" width="20px"></button>
    </div>

    <div class="container2">
        <div class="col">
            <p class="temp">31</p>
        </div>
        <div>
            <p class="degree">°</p>
        </div>
        <div></div>
        <div>
            <p class="weather">Sunny</p>
        </div>
        <p class ="paraha">
            Now it feels like +35°, actually +31°.<br>It feels hot beacuse of the direct sun
        </p>
    </div>

    <div class="container3">
        <div class="col1">
            <img src="svg_files/water-drop-drop-svgrepo-com.svg" width="25px">
            <p class="humidity">48%</p>
            <p class="item">Humidity</p>
        </div>

        <div class="col1">
            <img src="svg_files/wind-svgrepo-com.svg" width="25px">
            <p class="wind">4km/h</p>
            <p class="item">Wind</p>
        </div>
        <div class="col1">
            <img src="svg_files/visibility-medical-svgrepo-com.svg" width="25px">
            <p class="visibility">1.6km</p>
            <p class="item">Visibility</p>
        </div>
    </div><br><hr><br>

    <div class="container4">
        <div class="day">7 July </div>
        <div>
            <img class="cont4_img" src="svg_files/sunny-pronostic-svgrepo-com.svg" width="18px"> 
            <p class="Future-weather">Sunny</p> 
        </div>                
        <div> 31/21°</div>

        <div class="day">8 July </div>
        <div>
            <img class="cont4_img" src="svg_files/sun-horizon-fill-svgrepo-com.svg" width="18px"> 
            <p class="Future-weather">horizon</p> 
        </div>
        <div>29/21°</div>

        <div class="day">9 July </div>
        <div>
            <img class="cont4_img" src="svg_files/weather-partly-cloudy-day-svgrepo-com.svg" width="18px"> 
            <p class="Future-weather">Partly cloud</p>  
        </div>
        <div>27/17°</div>

    </div>
<script>
    
    const apiKey = "b5de0e51f79a86995d58262acbb2134d";
    const apiUrl = "https://api.openweathermap.org/data/2.5/weather?units=metric&q=";

    const searchBox = document.querySelector(".search input");
    const searchBtn = document.querySelector(".search button");
    
    async function checkWeather(city){
        let time = document.querySelector(".date");
        let d = new Date();
        const response = await fetch(apiUrl +  city + `&appid=${apiKey}`);
        var data = await response.json();
        var descrip = data['weather']['0']['description']

        console.log(data);

        time.innerHTML = d.toDateString(d);
        document.querySelector(".city").innerHTML = data.name ;
        document.querySelector(".temp").innerHTML = Math.round(data.main.temp) ;
        document.querySelector(".humidity").innerHTML = data.main.humidity + "%";
        document.querySelector(".wind").innerHTML = data.wind.speed + "km/h";
        document.querySelector(".visibility").innerHTML = (data.visibility)/1000 + "km";    
        document.querySelector(".weather").innerHTML = descrip;    
        
    }

    searchBtn.addEventListener("click", ()=>{
        checkWeather(searchBox.value);
    })

</script>
</body>
</html>